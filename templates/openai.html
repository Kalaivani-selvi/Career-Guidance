{% include 'header.html' %}
<body class="body-bg1">
    <div class="loader">
        <div class="spinner">
            <img src="static/cg-img/circle1.jpg" alt="" />
        </div>
    </div>

{% include 'm_header.html' %}
<div class="page-wrapper">
    <div class="main-content1">
        <div class="container justify-content-center">
            <div class="row mt-4 pt-4">
                <div class="col">
                    <div class="row p-2 list1">
                        <div class="col-xl-12 col-lg-12 col-md-12 col-sm-12 col-12 mt-1">
                            <h1 class="from-title mb-4">ChatBot</h1>
                        </div>   
                        <div class="col text-right1">
                            <a class="navbar-brand" href="/chat-fb">
                                <img src="static/cg-img/fb-icon.svg" alt="back" class="back">
                                <span class="from-title">Feedback</span>
                            </a>
                        </div>            
                    </div>
                    <div class="container mt-3">
                        <div id="chat-history" class="container form-control chatbox">
                            <div class="row justify-content-center">
                                <div class="col-md-8">
                                    <div class="botMessage">
                                        <p><span>Career Bot</span></p>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <form id="chat-form" class="row">
                            <div class="col-9">
                                <input id="user-message" type="text" name="msg" placeholder="Enter your Query..." class="form-control">
                            </div>
                            <div class="col-3">
                                <button type="submit" id="send" class="form-control btn btn-warning">Send</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

        {% include 'footer.html' %}
        <script>
            function sendMessage() {
                var userMessage = document.getElementById('user-message').value;
                fetch('/chat', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded'
                    },
                    body: 'user_message=' + encodeURIComponent(userMessage)
                })
                .then(response => response.json())
                .then(data => {
                    var chatHistory = document.getElementById('chat-history');
                    chatHistory.innerHTML += '<p class="userText"><span>' + userMessage + "</span></p>";
                    chatHistory.innerHTML += '<p class="botText"><span>' + data.message + "</span></p>";
                    document.getElementById('user-message').value = ''; // Clear the input field
                })
                .catch(error => console.error('Error:', error));
            }
    
            document.getElementById('chat-form').addEventListener('submit', function(event) {
                event.preventDefault();
                sendMessage();
            });
        </script>
        </body>

        <!-- </html>
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chatbot</title>
</head>
<body>
    <h1>Chatbot</h1>
    <div id="chat-history"></div>
    <form id="chat-form">
        <input type="text" id="user-message" placeholder="Enter your message...">
        <button type="submit">Send</button>
    </form>

    <script>
        function sendMessage() {
            var userMessage = document.getElementById('user-message').value;
            fetch('/chat', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/x-www-form-urlencoded'
                },
                body: 'user_message=' + encodeURIComponent(userMessage)
            })
            .then(response => response.json())
            .then(data => {
                var chatHistory = document.getElementById('chat-history');
                chatHistory.innerHTML += '<p>User: ' + userMessage + '</p>';
                chatHistory.innerHTML += '<p>Bot: ' + data.message + '</p>';
                document.getElementById('user-message').value = ''; // Clear the input field
            })
            .catch(error => console.error('Error:', error));
        }

        document.getElementById('chat-form').addEventListener('submit', function(event) {
            event.preventDefault();
            sendMessage();
        });
    </script>
</body>
</html> -->
